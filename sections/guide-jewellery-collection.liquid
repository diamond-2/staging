<div class="guide-jw-collection-section-wrapper">
    <div class="dia-container">
        {% for item in section.blocks %}
        {% assign collection_name = item.settings.select_collection | handle %}
        {% assign mainCollection = collections[collection_name] %}
        <div class="guide-jw-collection-row">
            <div class="guide-jw-collection-se-header">
                <h2>{{ mainCollection.title }}</h2>
                {% if mainCollection.description %}<div class="rte">{{ mainCollection.description }}</div>{% endif %}
            </div>
            <div class="guide-jw-product-slider-wrapper">
                <div class="guide-jw-product-slider {% if mainCollection.products.size > 5 %}slider_init{% else %}no_slider_init{% endif %}">
                    {% for product in mainCollection.products %}
                    <div class="guide-jw-product-item">
                        <div class="guide-jw-product-item-inner">
                            <div class="product-card">
                                <div class="product-image-holder">
                                    <a href="{{ product.url }}" >
                                        <img data-src="{{ product.featured_image | img_url: 'master' }}" class="lazyload">
                                    </a>
                                </div>
                                <div class="product-image-title">
                                    <a href="{{ product.url }}" >{{ product.title }}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        {% endfor %}
    </div>
</div>

<script>
    $(".guide-jw-product-slider").slick({
        dots: false,
        autoplay: false,
        autoplaySpeed: 5000,
        slidesToShow: 5,
        slidesToScroll: 1,
        navigation: true,
        infinite: false,
        responsive: [
            {
                breakpoint: 1024,
                settings: {
                slidesToShow: 4,
                slidesToScroll: 1,
                dots: false
                }
            },
            {
                breakpoint: 991,
                settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
                dots: false
                }
            },
            {
                breakpoint: 767,
                settings: {
                slidesToShow: 2,
                slidesToScroll: 1
                }
            },
            {
                breakpoint: 480,
                settings: {
                slidesToShow: 1,
                slidesToScroll: 1
                }
            }
        ]
    });
</script>


{% schema %}
  {
    "name": "Jewellery Products",
    "settings": [
    ],
    "blocks": [
       {
          "type": "collection",
          "name": "Collection",
          "settings": [
            {
                "type": "collection",
                "label": "Collection",
                "id": "select_collection"
            }
          ]
       }
    ]
  }
{% endschema %}