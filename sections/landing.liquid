{% assign landingBanner = section.settings.landing_image %}
{% assign landingBannerMobile = section.settings.landing_image_mobile %}
{% assign bannerToptext = section.settings.landing_text_top %}
{% assign bannerBottomtext = section.settings.landing_text_bottom %}
<div id="main-landing-page">
    <div class="main-landing-page-container">
        <div class="landing-banner">
            <img data-src="{{ landingBanner | img_url: 'master'}}" alt="" class="lazyload hide_mobile"/>
            {% if landingBannerMobile %}
            <img data-src="{{ landingBannerMobile | img_url: 'master'}}" alt="" class="lazyload show_mobile"/>
            {% else %}
            <img data-src="{{ landingBanner | img_url: 'master'}}" alt="" class="lazyload show_mobile"/>
            {% endif %}
          
        </div>
        <div class="landing-content">
            <div class="landing-top-content landing-content-item">
                <div class="landing-logo-holder">
                    <div class="landing-logo">
                        <img data-src="{{ 'landing_logo_desktop.png' |  asset_url }}" alt="diamond2" class="lazyload" />
                    </div>
                </div>
                {% if bannerToptext != blank %}
                <div class="landing-top-content-item">{{ bannerToptext }}</div>
                {% endif %}
            </div>
            <div class="landing-bottom-content landing-content-item">
                <div class="landing-page-button">
                    <a href="javascript:void(0);" class="landing-btn discover-btn"><span class="btn_text">Discover</span>{% include 'langing-button-arrow' %}</a>
                </div>
                {% if bannerBottomtext != blank %}
                    <div class="landing-bottom-content-item">{{ bannerBottomtext }}</div>    
                {% endif %}                
            </div>
        </div>
    </div>    
</div>

<!-- Cookies -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function(event) {
        if($.cookie('landingpage') == null) {
          $('body').prepend('<div id="landing-illusion"></div>');
          $('#shopify-section-landing').slideDown();
          $('body').addClass('landing-exist');
          
        }
        var lastScrollTop = 0;
        $(window).on('scroll', function(){
            let windowScrolled = $(window).scrollTop(); console.log(windowScrolled)
            let windowHeight = window.innerHeight;
            // let landingOffset = $('#shopify-section-162365259171b8a08b').offset().top; console.log(landingOffset);
            
            var st = $(this).scrollTop();
            if (st > lastScrollTop){
                if($('body').hasClass('landing-exist')){
                $('#shopify-section-landing').css('transform','translateY(-'+windowScrolled+'px)');
                $('#landing-illusion').css('transform','translateY('+windowScrolled+'px)')
                // downscroll code
            }
            } else {
                // upscroll code
            }
            lastScrollTop = st;
            

            
            if(windowScrolled >= windowHeight) {
                $('#shopify-section-landing').remove();
                $('body').removeClass('landing-exist');
                $.cookie('landingpage',2);
            }
        });
    });
    $(window).on('load', function(){
        $('#landing-illusion').css('transform','translateY('+window.innerHeight+'px)');

    })
</script>
{% schema %}
{
    "name": "Landing Page",
    "class": "landing-section",
    "settings": [
        {
            "type": "image_picker",
            "id": "landing_image",
            "label": "Select Image"
        },
        {
            "type": "image_picker",
            "id": "landing_image_mobile",
            "label": "Select Image For Mobile"
        },
        {
            "type": "richtext",
            "id": "landing_text_top",
            "label": "Top content"
        },
        {
            "type": "text",
            "id": "landing_text_bottom",
            "label": "Bottom content",
            "default": "enter <br> the world beyond the diamond"
        }
    ]
}
{% endschema %}