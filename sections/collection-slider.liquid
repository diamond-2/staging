
<div class="collection-slider-wrapper">
    <div class="dia-container">
        <div class="collection-slider">
            {%- for slide in section.blocks -%}
            {% assign collection = collections[slide.settings.select_collection] %}
            {%- if collection != blank -%}
            <div class="collection-slide">
                <div class="collection-card">
                    {%- if collection.featured_image !=blank -%}
                    <div class="collection-image-holder">
                        <a href="{{ collection.url }}">
                            <img class="lazyload" data-src="{{ collection.featured_image | img_url: 'master' }}" alt="{{ collection.title | escape  }}">
                        </a>
                    </div>
                    {%- endif -%}
                    {%- if collection.title != blank -%}
                    <div class="collection-image-title">
                        <a href="{{ collection.url }}">{{ collection.title }}</a>
                    </div>
                    {%- endif -%}
                </div>
            </div>
            {%- endif -%}
            {%- endfor -%}
        </div>
        {%- if section.settings.button_text -%}
        <div class="collection-slider-bottom-btn-holder">
            <a href="{{ section.settings.button_link }}" class="glb-btn">{{ section.settings.button_text }}</a>
        </div>
        {%- endif -%}
    </div>
</div>



<script>
    $(".collection-slider").slick({
        dots: false,
        autoplay: false,
        autoplaySpeed: 5000,
        slidesToShow: 4,
        slidesToScroll: 1,
        navigation: true,
        responsive: [
            {
                breakpoint: 1024,
                settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
                infinite: true,
                dots: false
                }
            },
            {
                breakpoint: 767,
                settings: {
                slidesToShow: 2,
                slidesToScroll: 1
                }
            },
            {
                breakpoint: 480,
                settings: {
                slidesToShow: 1,
                slidesToScroll: 1
                }
            }
        ]
    });
</script>


{% schema %}
  {
    "name": "Collection Slider",
    "settings": [
        {
            "type": "text",
            "label": "Button Text",
            "id": "button_text",
            "default": "EXPLORE OUR FINE JEWELLERY COLLECTIONS"
        },
        {
            "type": "url",
            "label": "Button Link",
            "id": "button_link"
        }
    ],
    "blocks": [
        {
            "type": "collection",
            "name": "Collection",
            "settings": [
                {
                    "type": "collection",
                    "label": "Select Collection",
                    "id": "select_collection"
                }
            ]
        }
    ]
  }
{% endschema %}