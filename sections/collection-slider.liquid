
<div class="collection-slider-wrapper">
    <div class="dia-container">
        {%- if section.settings.heading != blank -%}
        <div class="collection-slider-header">
            <h2>{{ section.settings.heading }}</h2>
        </div>
        {%- endif -%}
        <div class="collection-slider">
            {%- for slide in section.blocks -%}
            {% assign slideImg = slide.settings.col_slider_img %}
            {% assign slideTitle = slide.settings.col_slider_title %}
            {% assign slideLink = slide.settings.col_slider_url%}          
            {%- if slideImg != blank and slideLink != blank -%}
            <div class="collection-slide">
                <div class="collection-card">                   
                    <div class="collection-image-holder">
                        <a href="{{ slideLink }}">
                            <img class="lazyload" data-src="{{ slideImg | img_url: 'master' }}" alt="{{ slideTitle }}">
                        </a> 
                    </div>
                    {%- if slideTitle != blank -%}
                    <div class="collection-image-title">
                        <a href="{{ slideLink }}">{{ slideTitle }}</a>
                    </div>
                    {%- endif -%}
                </div>
            </div>
            {%- endif -%}
            {%- endfor -%}
        </div>
        {%- if section.settings.button_text -%}
        <div class="collection-slider-bottom-btn-holder">
            <a href="{{ section.settings.button_link }}" class="glb-btn">{{ section.settings.button_text }}</a>
        </div>
        {%- endif -%}
    </div>
</div>

<script>
    $(".collection-slider").slick({
        dots: false,
        autoplay: false,
        autoplaySpeed: 5000,
        slidesToShow: 4,
        slidesToScroll: 1,
        navigation: true,
        responsive: [
            {
                breakpoint: 1024,
                settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
                infinite: true,
                dots: false
                }
            },
            {
                breakpoint: 767,
                settings: {
                slidesToShow: 2,
                slidesToScroll: 1
                }
            },
            {
                breakpoint: 480,
                settings: {
                slidesToShow: 1,
                slidesToScroll: 1
                }
            }
        ]
    });
</script>

{% schema %}
  {
    "name": "Collection Slider",
    "settings": [
        {
            "type": "text",
            "label": "heading",
            "id": "heading"
        },
        {
            "type": "text",
            "label": "Button Text",
            "id": "button_text",
            "default": "EXPLORE OUR FINE JEWELLERY COLLECTIONS"
        },
        {
            "type": "url",
            "label": "Button Link",
            "id": "button_link"
        }
    ],
    "blocks": [
        {
            "type": "collection",
            "name": "Collection",
            "settings": [
                {
                    "type": "image_picker",
                    "id": "col_slider_img",
                    "label": "Collection Image"
                },
                {
                    "type": "text",
                    "id": "col_slider_title",
                    "label": "Collection Title",
                    "default": "Title Here..."
                },
                {
                    "type": "url",
                    "id": "col_slider_url",
                    "label": "Colletion Link"
                }
            ]
        }
    ]
  }
{% endschema %}